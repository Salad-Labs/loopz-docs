"use strict";(self.webpackChunksdk=self.webpackChunksdk||[]).push([[9013],{7309:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"troubleshooting","title":"Troubleshooting & FAQ","description":"Common issues, solutions, and frequently asked questions for the Loopz SDK","source":"@site/docs/troubleshooting.md","sourceDirName":".","slug":"/troubleshooting","permalink":"/loopz-docs/docs/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/troubleshooting.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"id":"troubleshooting","title":"Troubleshooting & FAQ","sidebar_label":"Troubleshooting","sidebar_position":6,"keywords":["troubleshooting","errors","FAQ","common issues","debugging","solutions"],"description":"Common issues, solutions, and frequently asked questions for the Loopz SDK"},"sidebar":"tutorialSidebar","previous":{"title":"Use Cases","permalink":"/loopz-docs/docs/use-cases"}}');var i=s(4848),o=s(8453);const t={id:"troubleshooting",title:"Troubleshooting & FAQ",sidebar_label:"Troubleshooting",sidebar_position:6,keywords:["troubleshooting","errors","FAQ","common issues","debugging","solutions"],description:"Common issues, solutions, and frequently asked questions for the Loopz SDK"},l="Troubleshooting & FAQ",c={},a=[{value:"Common Errors",id:"common-errors",level:2},{value:"SDK Initialization Errors",id:"sdk-initialization-errors",level:3},{value:"NotInitializedError",id:"notinitializederror",level:4},{value:"localStorage Not Supported",id:"localstorage-not-supported",level:4},{value:"IndexedDB Error",id:"indexeddb-error",level:4},{value:"Authentication Errors",id:"authentication-errors",level:3},{value:"Network Error During OTP",id:"network-error-during-otp",level:4},{value:"Invalid OTP Code",id:"invalid-otp-code",level:4},{value:"Session Not Persisting",id:"session-not-persisting",level:4},{value:"Chat Connection Errors",id:"chat-connection-errors",level:3},{value:"ClientCantChatError",id:"clientcantchaterror",level:4},{value:"NotConnectedError",id:"notconnectederror",level:4},{value:"WebSocket Connection Failed",id:"websocket-connection-failed",level:4},{value:"Trading/Order Errors",id:"tradingorder-errors",level:3},{value:"Wallet Not Connected",id:"wallet-not-connected",level:4},{value:"Gas Estimation Failed",id:"gas-estimation-failed",level:4},{value:"GraphQL/API Errors",id:"graphqlapi-errors",level:3},{value:"QIError (Query Interaction Error)",id:"qierror-query-interaction-error",level:4},{value:"Environment-Specific Issues",id:"environment-specific-issues",level:2},{value:"Next.js Issues",id:"nextjs-issues",level:3},{value:"Hydration Mismatch",id:"hydration-mismatch",level:4},{value:"Build Errors",id:"build-errors",level:4},{value:"Webpack Configuration",id:"webpack-configuration",level:3},{value:"Polyfill Issues",id:"polyfill-issues",level:4},{value:"TypeScript Issues",id:"typescript-issues",level:3},{value:"Type Errors",id:"type-errors",level:4},{value:"Performance Issues",id:"performance-issues",level:2},{value:"Slow Initial Load",id:"slow-initial-load",level:3},{value:"Memory Leaks",id:"memory-leaks",level:3},{value:"Debugging Tips",id:"debugging-tips",level:2},{value:"Enable Dev Mode",id:"enable-dev-mode",level:3},{value:"Check SDK Version",id:"check-sdk-version",level:3},{value:"Network Request Debugging",id:"network-request-debugging",level:3},{value:"State Debugging",id:"state-debugging",level:3},{value:"Frequently Asked Questions",id:"frequently-asked-questions",level:2},{value:"General",id:"general",level:3},{value:"Authentication",id:"authentication",level:3},{value:"Chat",id:"chat",level:3},{value:"Trading",id:"trading",level:3},{value:"Getting Help",id:"getting-help",level:2},{value:"Reporting Bugs",id:"reporting-bugs",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"troubleshooting--faq",children:"Troubleshooting & FAQ"})}),"\n",(0,i.jsx)(n.p,{children:"This guide covers common issues, error codes, and frequently asked questions when working with the Loopz SDK."}),"\n",(0,i.jsx)(n.h2,{id:"common-errors",children:"Common Errors"}),"\n",(0,i.jsx)(n.h3,{id:"sdk-initialization-errors",children:"SDK Initialization Errors"}),"\n",(0,i.jsx)(n.h4,{id:"notinitializederror",children:"NotInitializedError"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error"}),": ",(0,i.jsx)(n.code,{children:"NotInitializedError: SDK not initialized"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause"}),": Trying to use SDK methods before initialization is complete."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// \u274c Wrong\nconst { instance } = useLoopz()\ninstance.auth.authenticate() // Error if not initialized\n\n// \u2705 Correct\nconst { instance, initialized } = useLoopz()\n\nuseEffect(() => {\n  if (initialized) {\n    instance.auth.authenticate()\n  }\n}, [initialized])\n\n// Or check in the handler\nconst handleAuth = () => {\n  if (!initialized) {\n    console.log("SDK still initializing...")\n    return\n  }\n  instance.auth.authenticate()\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"localstorage-not-supported",children:"localStorage Not Supported"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error"}),": ",(0,i.jsx)(n.code,{children:"localStorage is not supported. Use a browser that provides the window.localStorage feature."})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause"}),": Browser doesn't support localStorage or it's disabled."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Check if user is in private/incognito mode"}),"\n",(0,i.jsx)(n.li,{children:"Enable localStorage in browser settings"}),"\n",(0,i.jsx)(n.li,{children:"Add fallback for SSR:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// For Next.js/SSR\nif (typeof window !== "undefined") {\n  const loopz = await Loopz.boot(config)\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"indexeddb-error",children:"IndexedDB Error"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error"}),": ",(0,i.jsx)(n.code,{children:"Error during the creation of the local database"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause"}),": IndexedDB is blocked or corrupted."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// Clear IndexedDB and retry\nasync function clearAndRetry() {\n  if ("indexedDB" in window) {\n    try {\n      await indexedDB.deleteDatabase("loopz:client_db")\n      window.location.reload()\n    } catch (error) {\n      console.error("Failed to clear database:", error)\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"authentication-errors",children:"Authentication Errors"}),"\n",(0,i.jsx)(n.h4,{id:"network-error-during-otp",children:"Network Error During OTP"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error"}),": ",(0,i.jsx)(n.code,{children:"Network error. Please try again."})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Common Causes"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Invalid API key"}),"\n",(0,i.jsx)(n.li,{children:"CORS issues"}),"\n",(0,i.jsx)(n.li,{children:"Backend unreachable"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Check API Key"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const config = {\n  apiKey: process.env.NEXT_PUBLIC_LOOPZ_API_KEY, // Ensure this is set\n}\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"CORS Configuration"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// If self-hosting backend, ensure CORS headers\nAccess-Control-Allow-Origin: https://your-domain.com\nAccess-Control-Allow-Headers: x-api-key, Content-Type\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Check Network"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Add retry logic\nconst requestOtpWithRetry = async (email: string, retries = 3) => {\n  for (let i = 0; i < retries; i++) {\n    try {\n      await sendEmailOTPCode(email)\n      return\n    } catch (error) {\n      if (i === retries - 1) throw error\n      await new Promise((r) => setTimeout(r, 1000 * (i + 1)))\n    }\n  }\n}\n"})}),"\n",(0,i.jsx)(n.h4,{id:"invalid-otp-code",children:"Invalid OTP Code"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error"}),": ",(0,i.jsx)(n.code,{children:"Invalid code. Please check and try again."})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Causes"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Code expired (5 minutes)"}),"\n",(0,i.jsx)(n.li,{children:"Wrong code entered"}),"\n",(0,i.jsx)(n.li,{children:"Multiple code requests"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// Add code expiry warning\nconst [codeRequestTime, setCodeRequestTime] = useState<Date | null>(null)\n\nconst isCodeExpired = () => {\n  if (!codeRequestTime) return false\n  const now = new Date()\n  const diff = now.getTime() - codeRequestTime.getTime()\n  return diff > 5 * 60 * 1000 // 5 minutes\n}\n\n// Show warning\n{\n  isCodeExpired() && (\n    <p className="warning">Code may have expired. Request a new one.</p>\n  )\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"session-not-persisting",children:"Session Not Persisting"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error"}),": User logged out after page refresh"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Causes"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Token expired"}),"\n",(0,i.jsx)(n.li,{children:"localStorage cleared"}),"\n",(0,i.jsx)(n.li,{children:"Invalid token format"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// Debug token issues\nconst debugSession = () => {\n  const token = localStorage.getItem("loopz:token")\n  const refreshToken = localStorage.getItem("loopz:refresh_token")\n\n  console.log("Token exists:", !!token)\n  console.log("Refresh token exists:", !!refreshToken)\n\n  if (token) {\n    try {\n      const decoded = jwtDecode(token)\n      console.log("Token expiry:", new Date(decoded.exp * 1000))\n      console.log("Is expired:", decoded.exp < Date.now() / 1000)\n    } catch (e) {\n      console.error("Invalid token format:", e)\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"chat-connection-errors",children:"Chat Connection Errors"}),"\n",(0,i.jsx)(n.h4,{id:"clientcantchaterror",children:"ClientCantChatError"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error"}),": ",(0,i.jsx)(n.code,{children:"Client can't chat. Are you missing to pairing the keys?"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause"}),": E2E encryption keys not generated."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'const { account } = useLoopzAuth()\n\n// Check if user can chat\nif (!account?.e2ePublicKey) {\n  console.log("User needs to complete profile setup for chat")\n  // Redirect to profile completion\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"notconnectederror",children:"NotConnectedError"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error"}),": ",(0,i.jsx)(n.code,{children:"Chat not connected"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'const { connect, isConnected } = useLoopzChat()\n\n// Always check connection before operations\nconst sendMessage = async (content: string) => {\n  if (!isConnected) {\n    await connect()\n  }\n\n  // Now send message\n  await instance.chat.createMessage({\n    conversationId,\n    content,\n    type: "TEXTUAL",\n  })\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"websocket-connection-failed",children:"WebSocket Connection Failed"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error"}),": WebSocket disconnects repeatedly"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// Implement reconnection logic\nconst { instance } = useLoopz()\nlet reconnectAttempts = 0\n\ninstance.chat.on("disconnected", () => {\n  if (reconnectAttempts < 5) {\n    setTimeout(() => {\n      reconnectAttempts++\n      instance.chat.reconnect()\n    }, 1000 * Math.pow(2, reconnectAttempts))\n  }\n})\n\ninstance.chat.on("connected", () => {\n  reconnectAttempts = 0\n})\n'})}),"\n",(0,i.jsx)(n.h3,{id:"tradingorder-errors",children:"Trading/Order Errors"}),"\n",(0,i.jsx)(n.h4,{id:"wallet-not-connected",children:"Wallet Not Connected"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error"}),": Trying to create order without wallet"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'const createOrder = async () => {\n  const wallets = account?.getActiveWallets()\n\n  if (!wallets || wallets.length === 0) {\n    // This will trigger Privy modal\n    console.log("Please connect your wallet first")\n    return\n  }\n\n  const wallet = wallets[0]\n  await instance.order.init(wallet)\n  // Now create order\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"gas-estimation-failed",children:"Gas Estimation Failed"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error"}),": Transaction fails during order creation"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// Add gas buffer\nconst order = await instance.order.create(\n  wallet,\n  participantOne,\n  participantTwo,\n  7, // days\n  [],\n  proposalId\n)\n\n// If gas estimation fails, try with manual gas\ntry {\n  await instance.order.finalize(orderId)\n} catch (error) {\n  if (error.code === "UNPREDICTABLE_GAS_LIMIT") {\n    // Retry with higher gas limit\n    await instance.order.finalize(orderId, 3000000) // 3M gas\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"graphqlapi-errors",children:"GraphQL/API Errors"}),"\n",(0,i.jsx)(n.h4,{id:"qierror-query-interaction-error",children:"QIError (Query Interaction Error)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error"}),": ",(0,i.jsx)(n.code,{children:"QIError: UnauthorizedException"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause"}),": JWT token expired or invalid."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// The SDK handles token refresh automatically, but you can force it\nimport { Auth } from "@salad-labs/loopz-typescript"\n\n// Force token refresh\nawait Auth.fetchAuthToken()\n\n// Or handle in error catch\ntry {\n  await instance.chat.getConversations()\n} catch (error) {\n  if (error instanceof QIError && error.reason === "_401_") {\n    // Token expired, logout user\n    await instance.auth.logout()\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"environment-specific-issues",children:"Environment-Specific Issues"}),"\n",(0,i.jsx)(n.h3,{id:"nextjs-issues",children:"Next.js Issues"}),"\n",(0,i.jsx)(n.h4,{id:"hydration-mismatch",children:"Hydration Mismatch"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem"}),": React hydration errors with SSR"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Wrap SDK initialization\nconst [mounted, setMounted] = useState(false)\n\nuseEffect(() => {\n  setMounted(true)\n}, [])\n\nif (!mounted) return null\n\nreturn <LoopzProvider config={config}>{children}</LoopzProvider>\n"})}),"\n",(0,i.jsx)(n.h4,{id:"build-errors",children:"Build Errors"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem"}),": ",(0,i.jsx)(n.code,{children:"window is not defined"})," during build"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// Dynamic import for client-only components\nconst LoopzChat = dynamic(() => import("./LoopzChat"), { ssr: false })\n'})}),"\n",(0,i.jsx)(n.h3,{id:"webpack-configuration",children:"Webpack Configuration"}),"\n",(0,i.jsx)(n.h4,{id:"polyfill-issues",children:"Polyfill Issues"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem"}),": Missing Node.js polyfills"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'// webpack.config.js\nmodule.exports = {\n  resolve: {\n    fallback: {\n      crypto: require.resolve("crypto-browserify"),\n      stream: require.resolve("stream-browserify"),\n      buffer: require.resolve("buffer/"),\n      process: require.resolve("process/browser"),\n    },\n  },\n  plugins: [\n    new webpack.ProvidePlugin({\n      process: "process/browser",\n      Buffer: ["buffer", "Buffer"],\n    }),\n  ],\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"typescript-issues",children:"TypeScript Issues"}),"\n",(0,i.jsx)(n.h4,{id:"type-errors",children:"Type Errors"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem"}),": TypeScript can't find types"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'// tsconfig.json\n{\n  "compilerOptions": {\n    "moduleResolution": "node",\n    "esModuleInterop": true,\n    "skipLibCheck": true,\n    "types": ["@salad-labs/loopz-typescript"]\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"performance-issues",children:"Performance Issues"}),"\n",(0,i.jsx)(n.h3,{id:"slow-initial-load",children:"Slow Initial Load"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem"}),": SDK takes long to initialize"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Lazy load heavy features"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Only initialize chat when needed\nconst [chatInitialized, setChatInitialized] = useState(false)\n\nconst initializeChat = async () => {\n  if (!chatInitialized) {\n    await instance.chat.connect()\n    setChatInitialized(true)\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Optimize bundle size"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// Import only what you need\nimport { useLoopzAuth } from "@salad-labs/loopz-typescript/auth"\n// Instead of\nimport { useLoopzAuth } from "@salad-labs/loopz-typescript"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"memory-leaks",children:"Memory Leaks"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem"}),": Memory usage increases over time"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// Always cleanup subscriptions\nuseEffect(() => {\n  const messageKey = instance.notification.onMessage(handler)\n\n  return () => {\n    instance.notification.offMessage(messageKey)\n  }\n}, [])\n\n// Cleanup chat listeners\nuseEffect(() => {\n  instance.chat.on("messageReceived", handler)\n\n  return () => {\n    instance.chat.off("messageReceived", handler)\n  }\n}, [])\n'})}),"\n",(0,i.jsx)(n.h2,{id:"debugging-tips",children:"Debugging Tips"}),"\n",(0,i.jsx)(n.h3,{id:"enable-dev-mode",children:"Enable Dev Mode"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const loopz = await Loopz.boot(config, {\n  devMode: true, // Enables additional logging\n})\n"})}),"\n",(0,i.jsx)(n.h3,{id:"check-sdk-version",children:"Check SDK Version"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'import { version } from "@salad-labs/loopz-typescript/package.json"\nconsole.log("Loopz SDK version:", version)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"network-request-debugging",children:"Network Request Debugging"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// Monitor API calls\nif (process.env.NODE_ENV === "development") {\n  // Log all fetch requests\n  const originalFetch = window.fetch\n  window.fetch = async (...args) => {\n    console.log("Fetch:", args[0])\n    const response = await originalFetch(...args)\n    console.log("Response:", response.status)\n    return response\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"state-debugging",children:"State Debugging"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// Log authentication state\nconst { isAuthenticated, isLoading, account } = useLoopzAuth()\n\nuseEffect(() => {\n  console.log("Auth State:", {\n    isAuthenticated,\n    isLoading,\n    accountId: account?.did,\n    canChat: account?.e2ePublicKey !== null,\n  })\n}, [isAuthenticated, isLoading, account])\n'})}),"\n",(0,i.jsx)(n.h2,{id:"frequently-asked-questions",children:"Frequently Asked Questions"}),"\n",(0,i.jsx)(n.h3,{id:"general",children:"General"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Q: What's the difference between Loopz auth and Privy?"}),"\nA: Loopz uses OTP authentication for app access. Privy is only used when you need to connect a wallet for blockchain operations."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Q: Why do I need two authentication systems?"}),"\nA: OTP auth provides longer sessions suitable for chat (18 hours), while Privy handles secure wallet connections for on-chain transactions."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Q: Can I use the SDK in React Native?"}),"\nA: Currently, the SDK only supports web applications. React Native support is planned for future releases."]}),"\n",(0,i.jsx)(n.h3,{id:"authentication",children:"Authentication"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Q: How long do sessions last?"}),"\nA: JWT tokens last 18 hours. The SDK automatically refreshes tokens before expiration."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Q: Can users login with just a wallet?"}),"\nA: No, initial authentication requires email/phone OTP. Wallet connection is only for blockchain operations."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Q: Why can't I use social logins?"}),"\nA: Social login methods (Google, Twitter, etc.) were part of the old Privy-only system and are no longer supported."]}),"\n",(0,i.jsx)(n.h3,{id:"chat",children:"Chat"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Q: Why can't some users access chat?"}),"\nA: Users need E2E encryption keys generated during profile completion. Check if ",(0,i.jsx)(n.code,{children:"account.e2ePublicKey"})," exists."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Q: Are messages stored locally?"}),"\nA: Yes, messages are stored in IndexedDB for offline access and performance."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Q: What's the message size limit?"}),"\nA: Text messages have no hard limit, but very large messages may impact performance."]}),"\n",(0,i.jsx)(n.h3,{id:"trading",children:"Trading"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Q: Do I need ETH for gas fees?"}),"\nA: Yes, users need ETH in their wallet to pay for transaction gas fees when creating or accepting orders."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Q: Which networks are supported?"}),"\nA: Check your configuration, but typically Ethereum mainnet and Polygon are supported."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Q: Can I trade without chat?"}),"\nA: Yes, trading and chat are independent features. You can use one without the other."]}),"\n",(0,i.jsx)(n.h2,{id:"getting-help",children:"Getting Help"}),"\n",(0,i.jsx)(n.p,{children:"If you're still experiencing issues:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Check the examples"}),": Review our ",(0,i.jsx)(n.a,{href:"./use-cases",children:"use cases"})," for working implementations"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Enable dev mode"}),": Get detailed logs for debugging"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"GitHub Issues"}),": Search or create an issue on ",(0,i.jsx)(n.a,{href:"https://github.com/Salad-Labs/loopz-typescript/issues",children:"GitHub"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Community Support"}),": Join our Discord for community help"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"reporting-bugs",children:"Reporting Bugs"}),"\n",(0,i.jsx)(n.p,{children:"When reporting issues, please include:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"SDK version"}),"\n",(0,i.jsx)(n.li,{children:"Browser and version"}),"\n",(0,i.jsx)(n.li,{children:"Error messages and stack traces"}),"\n",(0,i.jsx)(n.li,{children:"Minimal code to reproduce"}),"\n",(0,i.jsx)(n.li,{children:"Network logs if relevant"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>l});var r=s(6540);const i={},o=r.createContext(i);function t(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);